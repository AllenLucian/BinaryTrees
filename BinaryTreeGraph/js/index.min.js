function showingTreeCtl(){var e=$("#common").find(".type select").val();return e===MJ.Demo.SHOW_BT?MJ.Demo.$btCtl:e===MJ.Demo.SHOW_BST?MJ.Demo.$bstCtl:e===MJ.Demo.SHOW_AVL?MJ.Demo.$avlCtl:void 0}function showingTree(){var e=$("#common").find(".type select").val();return e===MJ.Demo.SHOW_BT?MJ.Demo.btTree:e===MJ.Demo.SHOW_BST?MJ.Demo.bstTree:e===MJ.Demo.SHOW_AVL?MJ.Demo.avlTree:void 0}function display(){var e,n=MJ.Graph.LINK_TYPE_ELBOW;$("#line").is(":checked")&&(n=MJ.Graph.LINK_TYPE_LINE),e=new MJ.Graph({tree:showingTree(),linkType:n}).display(),showingTreeCtl().find("h2 .node-count").text(e.tree.size)}function initBst(e,n){var a=e.find(".data");e.find(".show").click(function(){var e,t=a.val().split(/\D+/i);n.clear();for(e in t)n.add(parseInt(t[e].trim()));display()}),e.find(".random").click(function(){var n,t,i,o=e.find(".max-count").val();for(o=Ext.isNumeric(o)?parseInt(o):MJ.Demo.randomMaxCount,n=e.find(".max-value").val(),n=Ext.isNumeric(n)?parseInt(n):MJ.Demo.randomMaxValue,o=1+Math.floor(Math.random()*o),t="",i=0;i<o;i++)0!==i&&(t+=","),t+=1+Math.floor(Math.random()*n);a.val(t)}),e.find(".add").click(function(){var e,t=a.val().split(/\D+/i);for(e in t)n.add(parseInt(t[e].trim()));display()}),e.find(".remove").click(function(){var e,t=a.val().split(/\D+/i);for(e in t)n.remove(parseInt(t[e].trim()));display()})}function initBt(){var e=MJ.Demo.$btCtl;e.find(".add").click(function(){MJ.Demo.btTree.add(e.find(".node").val().trim(),e.find(".left").val().trim(),e.find(".right").val().trim()),display()}),e.find(".remove").click(function(){MJ.Demo.btTree.remove(e.find(".node").val()),display()})}function example1(){var e,n=new MJ.BinarySearchTree,a=Math.floor(1+50*Math.random());for(e=0;e<a;e++)n.add(Math.floor(1e3*Math.random()));new MJ.Graph({tree:n}).display()}function example2(){var e=new MJ.Graph;e.tree={getRoot:function(){return"Life"},getLeft:function(e){return"Life"===e?"Animal":"Person"===e?"Man":"Animal"===e?"Cat":"Dog"===e?"Teddy":null},getRight:function(e){return"Life"===e?"Person":"Person"===e?"Woman":"Animal"===e?"Dog":"Dog"===e?"SingleDog":null},getString:function(e){return e}},e.display()}function _addPersons(e){e.add(new MJ.Person({age:14,name:"Jake"})),e.add(new MJ.Person({age:10,name:"Michael"})),e.add(new MJ.Person({age:17,name:"Jim"})),e.add(new MJ.Person({age:24,name:"Kate"})),e.add(new MJ.Person({age:25,name:"Larry"})),e.add(new MJ.Person({age:28,name:"Michael"})),e.add(new MJ.Person({age:16,name:"Jackson"})),e.add(new MJ.Person({age:24,name:"Angela"})),e.add(new MJ.Person({age:17,name:"Rona"})),e.add(new MJ.Person({age:30,name:"Jim"}))}function example3(){var e=new MJ.BinarySearchTree;_addPersons(e),new MJ.Graph({tree:e}).display()}function example4(){var e,n=new MJ.BinarySearchTree({comparator:{compare:function(e,n){var a=e.name>n.name?1:e.name<n.name?-1:0;return 0===a&&(a=e.age-n.age),a}}});_addPersons(n),(e=new MJ.Graph).tree=n,e.display()}Ext.define("MJ.Demo",{statics:{randomMaxCount:20,randomMaxValue:100,avlTree:new MJ.AVLTree,bstTree:new MJ.BinarySearchTree,btTree:new MJ.BinaryTree,SHOW_AVL:"2",SHOW_BST:"1",SHOW_BT:"0",$avlCtl:$("#avl"),$bstCtl:$("#bst"),$btCtl:$("#bt")}}),$(function(){$("#paper").css("left","390px").css("top","10px"),$("#elbow").click(display),$("#line").click(display),$("#common").find(".type select").change(function(){MJ.Demo.$avlCtl.hide(),MJ.Demo.$bstCtl.hide(),MJ.Demo.$btCtl.hide(),showingTreeCtl().show(),display()}),initBt(),initBst(MJ.Demo.$bstCtl,MJ.Demo.bstTree),initBst(MJ.Demo.$avlCtl,MJ.Demo.avlTree),MJ.Demo.btTree.add("Life","Animal","Person"),MJ.Demo.btTree.add("Person","Man","Woman"),MJ.Demo.btTree.add("Animal","Cat","Dog"),MJ.Demo.btTree.add("Dog","Teddy","SingleDog"),display()}),Ext.define("MJ.Person",{config:{age:0,name:null},constructor:function(e){this.initConfig(e)},compareTo:function(e){var n=this.age-e.age;return 0===n&&(n=this.name>e.name?1:this.name<e.name?-1:0),n},toString:function(){return this.age+"_"+this.name}});